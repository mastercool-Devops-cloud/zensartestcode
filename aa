private static String getRequestBody(HttpServletRequest request) {
    return Optional.ofNullable(request)
            .filter(req -> req instanceof ContentCachingRequestWrapper)
            .map(req -> {
                ContentCachingRequestWrapper wrappedRequest = (ContentCachingRequestWrapper) req;
                byte[] content = wrappedRequest.getContentAsByteArray();
                return content.length > 0 ? new String(content, StandardCharsets.UTF_8) : "No body content.";
            })
            .orElse("Request body not available or request not wrapped with ContentCachingRequestWrapper.");
}
